{"ast":null,"code":"// src/store/authSlice.js - Fixed export\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n\n// Async thunks\nexport const loginUser = createAsyncThunk('auth/loginUser', async ({\n  email,\n  password\n}, {\n  rejectWithValue\n}) => {\n  try {\n    // Simulate API call\n    const response = await new Promise(resolve => {\n      setTimeout(() => {\n        resolve({\n          user: {\n            id: 1,\n            email,\n            name: 'Test User',\n            avatar: null\n          },\n          token: 'fake-jwt-token'\n        });\n      }, 1000);\n    });\n    localStorage.setItem('token', response.token);\n    return response;\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\nexport const registerUser = createAsyncThunk('auth/registerUser', async ({\n  email,\n  password,\n  name\n}, {\n  rejectWithValue\n}) => {\n  try {\n    // Simulate API call\n    const response = await new Promise(resolve => {\n      setTimeout(() => {\n        resolve({\n          user: {\n            id: 1,\n            email,\n            name,\n            avatar: null\n          },\n          token: 'fake-jwt-token'\n        });\n      }, 1000);\n    });\n    localStorage.setItem('token', response.token);\n    return response;\n  } catch (error) {\n    return rejectWithValue(error.message);\n  }\n});\nexport const logoutUser = createAsyncThunk(\n// Fixed: was 'logout'\n'auth/logoutUser', async () => {\n  localStorage.removeItem('token');\n  return null;\n});\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState: {\n    user: null,\n    token: localStorage.getItem('token'),\n    isLoading: false,\n    error: null,\n    isAuthenticated: !!localStorage.getItem('token')\n  },\n  reducers: {\n    setUser: (state, action) => {\n      state.user = action.payload;\n      state.isAuthenticated = true;\n    },\n    clearError: state => {\n      state.error = null;\n    },\n    updateUserProfile: (state, action) => {\n      if (state.user) {\n        state.user = {\n          ...state.user,\n          ...action.payload\n        };\n      }\n    }\n  },\n  extraReducers: builder => {\n    builder\n    // Login\n    .addCase(loginUser.pending, state => {\n      state.isLoading = true;\n      state.error = null;\n    }).addCase(loginUser.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isAuthenticated = true;\n    }).addCase(loginUser.rejected, (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    })\n    // Register\n    .addCase(registerUser.pending, state => {\n      state.isLoading = true;\n      state.error = null;\n    }).addCase(registerUser.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isAuthenticated = true;\n    }).addCase(registerUser.rejected, (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    })\n    // Logout\n    .addCase(logoutUser.fulfilled, state => {\n      state.user = null;\n      state.token = null;\n      state.isAuthenticated = false;\n    });\n  }\n});\nexport const {\n  setUser,\n  clearError,\n  updateUserProfile\n} = authSlice.actions;\nexport default authSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","loginUser","email","password","rejectWithValue","response","Promise","resolve","setTimeout","user","id","name","avatar","token","localStorage","setItem","error","message","registerUser","logoutUser","removeItem","authSlice","initialState","getItem","isLoading","isAuthenticated","reducers","setUser","state","action","payload","clearError","updateUserProfile","extraReducers","builder","addCase","pending","fulfilled","rejected","actions","reducer"],"sources":["C:/Users/misch/Downloads/absix-workstation-web-main/absix-workstation-web-main/frontend/src/store/authSlice.js"],"sourcesContent":["// src/store/authSlice.js - Fixed export\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\n\n// Async thunks\nexport const loginUser = createAsyncThunk(\n  'auth/loginUser',\n  async ({ email, password }, { rejectWithValue }) => {\n    try {\n      // Simulate API call\n      const response = await new Promise((resolve) => {\n        setTimeout(() => {\n          resolve({\n            user: {\n              id: 1,\n              email,\n              name: 'Test User',\n              avatar: null\n            },\n            token: 'fake-jwt-token'\n          });\n        }, 1000);\n      });\n      \n      localStorage.setItem('token', response.token);\n      return response;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const registerUser = createAsyncThunk(\n  'auth/registerUser',\n  async ({ email, password, name }, { rejectWithValue }) => {\n    try {\n      // Simulate API call\n      const response = await new Promise((resolve) => {\n        setTimeout(() => {\n          resolve({\n            user: {\n              id: 1,\n              email,\n              name,\n              avatar: null\n            },\n            token: 'fake-jwt-token'\n          });\n        }, 1000);\n      });\n      \n      localStorage.setItem('token', response.token);\n      return response;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const logoutUser = createAsyncThunk( // Fixed: was 'logout'\n  'auth/logoutUser',\n  async () => {\n    localStorage.removeItem('token');\n    return null;\n  }\n);\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState: {\n    user: null,\n    token: localStorage.getItem('token'),\n    isLoading: false,\n    error: null,\n    isAuthenticated: !!localStorage.getItem('token')\n  },\n  reducers: {\n    setUser: (state, action) => {\n      state.user = action.payload;\n      state.isAuthenticated = true;\n    },\n    clearError: (state) => {\n      state.error = null;\n    },\n    updateUserProfile: (state, action) => {\n      if (state.user) {\n        state.user = { ...state.user, ...action.payload };\n      }\n    }\n  },\n  extraReducers: (builder) => {\n    builder\n      // Login\n      .addCase(loginUser.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(loginUser.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.user = action.payload.user;\n        state.token = action.payload.token;\n        state.isAuthenticated = true;\n      })\n      .addCase(loginUser.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload;\n      })\n      // Register\n      .addCase(registerUser.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(registerUser.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.user = action.payload.user;\n        state.token = action.payload.token;\n        state.isAuthenticated = true;\n      })\n      .addCase(registerUser.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload;\n      })\n      // Logout\n      .addCase(logoutUser.fulfilled, (state) => {\n        state.user = null;\n        state.token = null;\n        state.isAuthenticated = false;\n      });\n  }\n});\n\nexport const { setUser, clearError, updateUserProfile } = authSlice.actions;\nexport default authSlice.reducer;"],"mappings":"AAAA;AACA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;;AAEhE;AACA,OAAO,MAAMC,SAAS,GAAGD,gBAAgB,CACvC,gBAAgB,EAChB,OAAO;EAAEE,KAAK;EAAEC;AAAS,CAAC,EAAE;EAAEC;AAAgB,CAAC,KAAK;EAClD,IAAI;IACF;IACA,MAAMC,QAAQ,GAAG,MAAM,IAAIC,OAAO,CAAEC,OAAO,IAAK;MAC9CC,UAAU,CAAC,MAAM;QACfD,OAAO,CAAC;UACNE,IAAI,EAAE;YACJC,EAAE,EAAE,CAAC;YACLR,KAAK;YACLS,IAAI,EAAE,WAAW;YACjBC,MAAM,EAAE;UACV,CAAC;UACDC,KAAK,EAAE;QACT,CAAC,CAAC;MACJ,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,CAAC;IAEFC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEV,QAAQ,CAACQ,KAAK,CAAC;IAC7C,OAAOR,QAAQ;EACjB,CAAC,CAAC,OAAOW,KAAK,EAAE;IACd,OAAOZ,eAAe,CAACY,KAAK,CAACC,OAAO,CAAC;EACvC;AACF,CACF,CAAC;AAED,OAAO,MAAMC,YAAY,GAAGlB,gBAAgB,CAC1C,mBAAmB,EACnB,OAAO;EAAEE,KAAK;EAAEC,QAAQ;EAAEQ;AAAK,CAAC,EAAE;EAAEP;AAAgB,CAAC,KAAK;EACxD,IAAI;IACF;IACA,MAAMC,QAAQ,GAAG,MAAM,IAAIC,OAAO,CAAEC,OAAO,IAAK;MAC9CC,UAAU,CAAC,MAAM;QACfD,OAAO,CAAC;UACNE,IAAI,EAAE;YACJC,EAAE,EAAE,CAAC;YACLR,KAAK;YACLS,IAAI;YACJC,MAAM,EAAE;UACV,CAAC;UACDC,KAAK,EAAE;QACT,CAAC,CAAC;MACJ,CAAC,EAAE,IAAI,CAAC;IACV,CAAC,CAAC;IAEFC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEV,QAAQ,CAACQ,KAAK,CAAC;IAC7C,OAAOR,QAAQ;EACjB,CAAC,CAAC,OAAOW,KAAK,EAAE;IACd,OAAOZ,eAAe,CAACY,KAAK,CAACC,OAAO,CAAC;EACvC;AACF,CACF,CAAC;AAED,OAAO,MAAME,UAAU,GAAGnB,gBAAgB;AAAE;AAC1C,iBAAiB,EACjB,YAAY;EACVc,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC;EAChC,OAAO,IAAI;AACb,CACF,CAAC;AAED,MAAMC,SAAS,GAAGtB,WAAW,CAAC;EAC5BY,IAAI,EAAE,MAAM;EACZW,YAAY,EAAE;IACZb,IAAI,EAAE,IAAI;IACVI,KAAK,EAAEC,YAAY,CAACS,OAAO,CAAC,OAAO,CAAC;IACpCC,SAAS,EAAE,KAAK;IAChBR,KAAK,EAAE,IAAI;IACXS,eAAe,EAAE,CAAC,CAACX,YAAY,CAACS,OAAO,CAAC,OAAO;EACjD,CAAC;EACDG,QAAQ,EAAE;IACRC,OAAO,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC1BD,KAAK,CAACnB,IAAI,GAAGoB,MAAM,CAACC,OAAO;MAC3BF,KAAK,CAACH,eAAe,GAAG,IAAI;IAC9B,CAAC;IACDM,UAAU,EAAGH,KAAK,IAAK;MACrBA,KAAK,CAACZ,KAAK,GAAG,IAAI;IACpB,CAAC;IACDgB,iBAAiB,EAAEA,CAACJ,KAAK,EAAEC,MAAM,KAAK;MACpC,IAAID,KAAK,CAACnB,IAAI,EAAE;QACdmB,KAAK,CAACnB,IAAI,GAAG;UAAE,GAAGmB,KAAK,CAACnB,IAAI;UAAE,GAAGoB,MAAM,CAACC;QAAQ,CAAC;MACnD;IACF;EACF,CAAC;EACDG,aAAa,EAAGC,OAAO,IAAK;IAC1BA;IACE;IAAA,CACCC,OAAO,CAAClC,SAAS,CAACmC,OAAO,EAAGR,KAAK,IAAK;MACrCA,KAAK,CAACJ,SAAS,GAAG,IAAI;MACtBI,KAAK,CAACZ,KAAK,GAAG,IAAI;IACpB,CAAC,CAAC,CACDmB,OAAO,CAAClC,SAAS,CAACoC,SAAS,EAAE,CAACT,KAAK,EAAEC,MAAM,KAAK;MAC/CD,KAAK,CAACJ,SAAS,GAAG,KAAK;MACvBI,KAAK,CAACnB,IAAI,GAAGoB,MAAM,CAACC,OAAO,CAACrB,IAAI;MAChCmB,KAAK,CAACf,KAAK,GAAGgB,MAAM,CAACC,OAAO,CAACjB,KAAK;MAClCe,KAAK,CAACH,eAAe,GAAG,IAAI;IAC9B,CAAC,CAAC,CACDU,OAAO,CAAClC,SAAS,CAACqC,QAAQ,EAAE,CAACV,KAAK,EAAEC,MAAM,KAAK;MAC9CD,KAAK,CAACJ,SAAS,GAAG,KAAK;MACvBI,KAAK,CAACZ,KAAK,GAAGa,MAAM,CAACC,OAAO;IAC9B,CAAC;IACD;IAAA,CACCK,OAAO,CAACjB,YAAY,CAACkB,OAAO,EAAGR,KAAK,IAAK;MACxCA,KAAK,CAACJ,SAAS,GAAG,IAAI;MACtBI,KAAK,CAACZ,KAAK,GAAG,IAAI;IACpB,CAAC,CAAC,CACDmB,OAAO,CAACjB,YAAY,CAACmB,SAAS,EAAE,CAACT,KAAK,EAAEC,MAAM,KAAK;MAClDD,KAAK,CAACJ,SAAS,GAAG,KAAK;MACvBI,KAAK,CAACnB,IAAI,GAAGoB,MAAM,CAACC,OAAO,CAACrB,IAAI;MAChCmB,KAAK,CAACf,KAAK,GAAGgB,MAAM,CAACC,OAAO,CAACjB,KAAK;MAClCe,KAAK,CAACH,eAAe,GAAG,IAAI;IAC9B,CAAC,CAAC,CACDU,OAAO,CAACjB,YAAY,CAACoB,QAAQ,EAAE,CAACV,KAAK,EAAEC,MAAM,KAAK;MACjDD,KAAK,CAACJ,SAAS,GAAG,KAAK;MACvBI,KAAK,CAACZ,KAAK,GAAGa,MAAM,CAACC,OAAO;IAC9B,CAAC;IACD;IAAA,CACCK,OAAO,CAAChB,UAAU,CAACkB,SAAS,EAAGT,KAAK,IAAK;MACxCA,KAAK,CAACnB,IAAI,GAAG,IAAI;MACjBmB,KAAK,CAACf,KAAK,GAAG,IAAI;MAClBe,KAAK,CAACH,eAAe,GAAG,KAAK;IAC/B,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEE,OAAO;EAAEI,UAAU;EAAEC;AAAkB,CAAC,GAAGX,SAAS,CAACkB,OAAO;AAC3E,eAAelB,SAAS,CAACmB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}